import{_ as H}from"./C2JGFjkk.js";import{I as k}from"./CJpRR2sG.js";import{c as J,_ as Q,C as $}from"./BPfZqP3C.js";import{_ as X}from"./DcyGPEn0.js";import{p as Y,y as R,z as Z,A as K,B as ee,C as te,D as ae,E as ne,G as V,H as se,J as re,r as I,K as z,L as oe,M as ie,N as le,u as E,O as ce,P as ue,_ as de,f as fe,g as _e,Q as me,c as x,b as P,a as g,l as S,h as M,F as B,i as T,w as W,o as y,I as he,t as N,T as be}from"./EqCue9Wd.js";import{a as ve}from"./Ai-H7Tqi.js";import{q as ge}from"./CXOcGqZf.js";const ye=Y("/img/pc.webp"),pe={trailing:!0};function De(e,t=25,i={}){if(i={...pe,...i},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let o,n,l=[],r,a;const p=(c,h)=>(r=we(e,c,h),r.finally(()=>{if(r=null,i.trailing&&a&&!n){const D=p(c,a);return a=null,D}}),r),_=function(...c){return i.trailing&&(a=c),r||new Promise(h=>{const D=!n&&i.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const d=i.leading?o:p(this,c);a=null;for(const u of l)u(d);l=[]},t),D?(o=p(this,c),h(o)):l.push(h)})},s=c=>{c&&(clearTimeout(c),n=null)};return _.isPending=()=>!!n,_.cancel=()=>{s(n),l=[],a=null},_.flush=()=>{if(s(n),!a||r)return;const c=a;return a=null,p(this,c)},_}async function we(e,t,i){return await e.apply(t,i)}function xe(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;Ce(e[0],e[1])&&e.unshift(t);let[i,o,n={}]=e,l=!1;const r=R(()=>ce(i));if(typeof r.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=Z();n.server??=!0,n.default??=Pe,n.getCachedData??=q,n.lazy??=!1,n.immediate??=!0,n.deep??=K.deep,n.dedupe??="cancel",n._functionName,a._asyncData[r.value];function p(){const d={cause:"initial",dedupe:n.dedupe};return a._asyncData[r.value]?._init||(d.cachedData=n.getCachedData(r.value,a,{cause:"initial"}),a._asyncData[r.value]=j(a,r.value,o,n,d.cachedData)),()=>a._asyncData[r.value].execute(d)}const _=p(),s=a._asyncData[r.value];s._deps++;const c=n.server!==!1&&a.payload.serverRendered;{let d=function(f){const v=a._asyncData[f];v?._deps&&(v._deps--,v._deps===0&&v?._off())};const u=ee();if(u&&c&&n.immediate&&!u.sp&&(u.sp=[]),u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const f=u._nuxtOnBeforeMountCbs;te(()=>{f.forEach(v=>{v()}),f.splice(0,f.length)}),ae(()=>f.splice(0,f.length))}const b=u&&(u._nuxtClientOnly||ne(J,!1));c&&a.isHydrating&&(s.error.value||s.data.value!==void 0)?s.status.value=s.error.value?"error":"success":u&&(!b&&a.payload.serverRendered&&a.isHydrating||n.lazy)&&n.immediate?u._nuxtOnBeforeMountCbs.push(_):n.immediate&&s.status.value!=="success"&&_();const m=re(),w=V(r,(f,v)=>{if((f||v)&&f!==v){l=!0;const F=a._asyncData[v]?.data.value!==void 0,G=a._asyncDataPromises[v]!==void 0,A={cause:"initial",dedupe:n.dedupe};if(!a._asyncData[f]?._init){let O;v&&F?O=a._asyncData[v].data.value:(O=n.getCachedData(f,a,{cause:"initial"}),A.cachedData=O),a._asyncData[f]=j(a,f,o,n,O)}a._asyncData[f]._deps++,v&&d(v),(n.immediate||F||G)&&a._asyncData[f].execute(A),ue(()=>{l=!1})}},{flush:"sync"}),C=n.watch?V(n.watch,()=>{l||s._execute({cause:"watch",dedupe:n.dedupe})}):()=>{};m&&se(()=>{w(),C(),d(r.value)})}const h={data:L(()=>a._asyncData[r.value]?.data),pending:L(()=>a._asyncData[r.value]?.pending),status:L(()=>a._asyncData[r.value]?.status),error:L(()=>a._asyncData[r.value]?.error),refresh:(...d)=>a._asyncData[r.value]?._init?a._asyncData[r.value].execute(...d):p()(),execute:(...d)=>h.refresh(...d),clear:()=>{const d=a._asyncData[r.value];if(d?._abortController)try{d._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{d._abortController=void 0}U(a,r.value)}},D=Promise.resolve(a._asyncDataPromises[r.value]).then(()=>h);return Object.assign(D,h),D}function L(e){return R({get(){return e()?.value},set(t){const i=e();i&&(i.value=t)}})}function Ce(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function U(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=E(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function Ee(e,t){const i={};for(const o of t)i[o]=e[o];return i}function j(e,t,i,o,n){e.payload._errors[t]??=void 0;const l=o.getCachedData!==q,r=i,a=o.deep?I:z,p=n!==void 0,_=e.hook("app:data:refresh",async c=>{(!c||c.includes(t))&&await s.execute({cause:"refresh:hook"})}),s={data:a(p?n:o.default()),pending:R(()=>s.status.value==="pending"),error:oe(e.payload._errors,t),status:z("idle"),execute:(...c)=>{const[h,D=void 0]=c,d=h&&D===void 0&&typeof h=="object"?h:{};if(e._asyncDataPromises[t]&&(d.dedupe??o.dedupe)==="defer")return e._asyncDataPromises[t];{const b="cachedData"in d?d.cachedData:o.getCachedData(t,e,{cause:d.cause??"refresh:manual"});if(b!==void 0)return e.payload.data[t]=s.data.value=b,s.error.value=void 0,s.status.value="success",Promise.resolve(b)}s._abortController&&s._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),s._abortController=new AbortController,s.status.value="pending";const u=new Promise((b,m)=>{try{const w=d.timeout??o.timeout,C=Oe([s._abortController?.signal,d?.signal],w);if(C.aborted){const f=C.reason;m(f instanceof Error?f:new DOMException(String(f??"Aborted"),"AbortError"));return}return C.addEventListener("abort",()=>{const f=C.reason;m(f instanceof Error?f:new DOMException(String(f??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(r(e,{signal:C})).then(b,m)}catch(w){m(w)}}).then(async b=>{let m=b;o.transform&&(m=await o.transform(b)),o.pick&&(m=Ee(m,o.pick)),e.payload.data[t]=m,s.data.value=m,s.error.value=void 0,s.status.value="success"}).catch(b=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==u)&&!s._abortController?.signal.aborted){if(typeof DOMException<"u"&&b instanceof DOMException&&b.name==="AbortError"){s.status.value="idle";return}s.error.value=le(b),s.data.value=E(o.default()),s.status.value="error"}}).finally(()=>{delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=u,e._asyncDataPromises[t]},_execute:De((...c)=>s.execute(...c),0,{leading:!0}),_default:o.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{_(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),l||ie(()=>{e._asyncData[t]?._init||(U(e,t),s.execute=()=>Promise.resolve())})}};return s}const Pe=()=>{},q=(e,t,i)=>{if(t.isHydrating)return t.payload.data[e];if(i.cause!=="refresh:manual"&&i.cause!=="refresh:hook")return t.static.data[e]};function Oe(e,t){const i=e.filter(l=>!!l);if(typeof t=="number"&&t>=0){const l=AbortSignal.timeout?.(t);l&&i.push(l)}if(AbortSignal.any)return AbortSignal.any(i);const o=new AbortController;for(const l of i)if(l.aborted){const r=l.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}return o.signal}const n=()=>{const r=i.find(a=>a.aborted)?.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}};for(const l of i)l.addEventListener?.("abort",n,{once:!0});return o.signal}const Se={class:"relative min-h-screen text-white"},Me={class:"flex flex-row min-h-screen justify-center"},Be={class:"lg:w-1/2 md:px-20 lg:px-3 my-10 flex flex-col items-center"},Le={class:"relative max-w-3xl bg-blue-500/5 border border-white/10 rounded-xl p-7 md:px-12 md:py-10 mx-2 lg:mb-0 shadow-md backdrop-blur-sm"},Te={class:"absolute flex top-4 right-3 p-2"},Ne={class:"w-3/4 md:w-full animated-gradient text-2xl font-semibold mb-3"},Ie={class:"whitespace-pre-line mb-6"},Re={class:"list-disc list-inside text-indigo-200 text-sm space-y-3"},Fe={class:"flex flex-col md:flex-row gap-5 md:gap-8 mt-8"},Ae=["onClick"],Ve={key:0,class:"w-1/2 h-screen sticky top-0 flex items-center justify-center px-3"},ze={class:"relative w-[500px] h-[400px] xl:scale-150 rounded-lg"},We={class:"absolute top-[10%] left-[12.5%] w-[73.8%] h-[58%] overflow-hidden rounded-t"},je={__name:"progetti",async setup(e){let t,i;ve({title:"Giorgio Messore • Progetti"});const o=I(null),n=[],l=I(0);let r;const{data:a}=([t,i]=fe(()=>xe("projects",()=>ge("projects").all())),t=await t,i(),t),p=_=>window.open(_,"_blank");return _e(()=>{l.value=window.innerWidth,o.value=a.value[0].meta.thumbnail,r=new IntersectionObserver(_=>{_.forEach(s=>{const c=n.indexOf(s.target);c!==-1&&(s.isIntersecting?(s.target.classList.add("opacity-100"),l.value>=1024&&(o.value=a.value[c].meta.thumbnail)):s.target.classList.remove("opacity-100"))})},{threshold:.5}),n.forEach(_=>{_&&r.observe(_)}),window.addEventListener("resize",()=>{l.value=window.innerWidth})}),me(()=>{r&&n.forEach(_=>_&&r.unobserve(_))}),(_,s)=>{const c=H,h=k,D=Q,d=X;return y(),x(B,null,[P($),s[1]||(s[1]=g("section",{class:"h-screen flex flex-col items-center justify-center"},[g("p",{class:"text-5xl xl:text-7xl font-semibold z-10"},"Alcuni dei miei"),g("h1",{class:"h-1/4 animated-gradient bg-clip-text text-transparent font-semibold text-7xl md:text-9xl"}," progetti ")],-1)),E(a)?(y(),S(c,{key:0,value:E(a)},null,8,["value"])):M("",!0),g("section",Se,[g("div",Me,[g("div",Be,[(y(!0),x(B,null,T(E(a),(u,b)=>(y(),x("div",{key:u.path,ref_for:!0,ref:m=>n[b]=m,class:"h-screen flex items-center mb-28 opacity-0 transition-opacity duration-700 fade-card"},[g("div",Le,[g("span",Te,[(y(!0),x(B,null,T(u.meta.bedges,(m,w)=>(y(),S(E(he),{key:w,icon:m,width:"38",height:"38",class:"bg-black rounded-full border-s border-indigo-400 py-2 mr-1"},null,8,["icon"]))),128))]),g("h3",Ne,N(u.title),1),l.value<1024?(y(),S(h,{key:0,src:u.meta.thumbnail,alt:"Project thumbnail",class:"mb-3",loading:"eager"},null,8,["src"])):M("",!0),g("p",Ie,N(u.description),1),s[0]||(s[0]=g("p",{class:"text-blue-500 font-bold mb-2"},"Funzionalità:",-1)),g("ul",Re,[(y(!0),x(B,null,T(u.meta.features,(m,w)=>(y(),x("li",{key:w},N(m),1))),128))]),g("div",Fe,[u.meta.siteLink?(y(),x("div",{key:0,class:"btn text-black bg-indigo-500 shadow-md hover:shadow-indigo-500/50 transition-all duration-300",onClick:m=>p(u.meta.siteLink)}," Guarda il sito ",8,Ae)):M("",!0)])])]))),128))]),P(D,null,{default:W(()=>[l.value>=1024?(y(),x("div",Ve,[g("div",ze,[P(h,{src:E(ye),class:"w-full h-full object-cover rounded-xl",alt:"PC frame",loading:"eager"},null,8,["src"]),g("div",We,[P(be,{name:"fade-slide",mode:"out-in"},{default:W(()=>[(y(),S(h,{key:o.value,src:o.value,class:"w-full h-full object-cover",alt:"Project thumbnail"},null,8,["src"]))]),_:1})])])])):M("",!0)]),_:1})])]),P(d,{class:"mb-10"})],64)}}},$e=de(je,[["__scopeId","data-v-17573e55"]]);export{$e as default};
